<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Transport Cards</title>
	<style type="text/css">
		div {
			margin: 10px;
			border: 2px solid grey;
		}

		#paragraphs:before {
			content: "As paragraphs:";
			font-weight: bold;
			font-size: 20px;
		}

		#list:before {
			content: "As list:";
			font-weight: bold;
			font-size: 20px;
		}

		p {
			border: 1px dashed blue;
		}

		span {
			background-color: green;
			border: 1px solid red;
		}

		span span {
			background-color: blue;
			border-radius: 7px;
		}
	</style>
	<script type="text/javascript" src="sorter.js"></script>
	<script type="text/javascript">
	(function () {
		window.onload = function () {
			var srcs = [
				{
					data: {
						vehicle: 'train',
						voyage: '78A',
						from: 'Madrid',
						to: 'Barcelona',
						seat: '45B',
						testvalue: 'test'
					}
				},
				{
					data: {
						vehicle: 'bus',
						voyage: 'airport',
						from: 'Barcelona',
						to: 'Gerona Airport',
						add: 'additional value'
					}
				},
				{
					data: {
						from: 'Gerona Airport',
						vehicle: 'flight',
						voyage: 'SK455',
						to: 'Stockholm',
						gate: '45B',
						seat: '3A',
						baggage: '344'
					}
				},
				{
					data: {
						from: 'Stockholm',
						vehicle: 'flight',
						voyage: 'SK22',
						to: 'New York JFK',
						gate: '22',
						seat: '7B',
						baggage: 'auto',
						add: 'additional value',
						testvalue: 'test'
					}
				}
			],
			    cards = [];

			for (var i = 0, l = srcs.length; i < l; ++i) {
				var src = srcs[i];
				cards.push(new Card (src.data, src.format));
			}

			cards.sort(function (a, b) {return Math.random() - 0.5;});

			console.log(cards)

			var list = sortCards.apply(this, cards);

			console.log('Current step:')
			console.log(list.currentStep);

			console.log('\nFull path:')
			console.log(list.fullPath);

			document.getElementById('paragraphs').appendChild(list.fullPathToDOM());
			document.getElementById('list').firstElementChild.appendChild(list.fullPathToDOM('list'));

		};
	})()
	</script>

</head>
<body>
	<div id="paragraphs"></div>
	<div id="list">
		<ol></ol>
	</div>
</body>
</html>